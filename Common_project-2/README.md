# Сборный проект — 2

 ## Описание проекта

 Позади много уроков и заданий, и закрепить свои знания, как обычно, вы сможете в самостоятельном проекте. Это непростой проект, в котором от вас потребуется больше самостоятельности. Этапы работы описаны кратко, и вам понадобится декомпозировать задачи, то есть разделить их на более мелкие. Опирайтесь на знания об этапах анализа данных и машинного обучения из прошлых курсов.

 Перейдём к задаче. HR-аналитики компании «Работа с заботой» помогают бизнесу оптимизировать управление персоналом: бизнес предоставляет данные, а аналитики предлагают, как избежать финансовых потерь и оттока сотрудников. В этом HR-аналитикам пригодится машинное обучение, с помощью которого получится быстрее и точнее отвечать на вопросы бизнеса.

 Компания предоставила данные с характеристиками сотрудников компании. Среди них — уровень удовлетворённости сотрудника работой в компании. Эту информацию получили из форм обратной связи: сотрудники заполняют тест-опросник, и по его результатам рассчитывается доля их удовлетворённости от 0 до 1, где 0 — совершенно неудовлетворён, 1 — полностью удовлетворён.

 Собирать данные такими опросниками не так легко: компания большая, и всех сотрудников надо сначала оповестить об опросе, а затем проследить, что все его прошли. 

 У вас будет несколько задач. Первая — построить модель, которая сможет предсказать уровень удовлетворённости сотрудника на основе данных заказчика. 
 
 Почему бизнесу это важно: удовлетворённость работой напрямую влияет на отток сотрудников. А предсказание оттока — одна из важнейших задач HR-аналитиков. Внезапные увольнения несут в себе риски для компании, особенно если уходит важный сотрудник.

 Ваша вторая задача — построить модель, которая сможет на основе данных заказчика предсказать то, что сотрудник уволится из компании.

 ## Цель исследования

 Цель исследования — разработать модель машинного обучения, которая сможет предсказать уровень удовлетворённости сотрудника на основе данных заказчика и предсказать то, что сотрудник уволится из компании.

## Ход исследования:

   1. Сбор и предварительная обработка данных.
   2. Исследовательский анализ данных.
   3. Подготовка данных.
   4. Обучение моделей.
   5. Общий вывод.

   ## Задача 1: предсказание уровня удовлетворённости сотрудника

 Для этой задачи заказчик предоставил данные с признаками:
 - id — уникальный идентификатор сотрудника;
 - dept — отдел, в котором работает сотрудник;
 - level — уровень занимаемой должности;
 - workload — уровень загруженности сотрудника;
 - employment_years — длительность работы в компании (в годах);
 - last_year_promo — показывает, было ли повышение за последний год;
 - last_year_violations — показывает, нарушал ли сотрудник трудовой договор за последний год;
 - supervisor_evaluation — оценка качества работы сотрудника, которую дал руководитель;
 - salary — ежемесячная зарплата сотрудника;
 - job_satisfaction_rate — уровень удовлетворённости сотрудника работой в компании, целевой признак.


 ## Общий вывод

 - Разработали модель машинного обучения, которая сможет предсказать уровень удовлетворённости сотрудника на основе данных заказчика и предсказать то, что сотрудник уволится из компании.

- Провели предобработку данных: удалили полные дубликаты, проверили соответствия данных.

- В исследователский анализ данных: составили портрет уволившегося сотрудника, выявили связь между признака уровень удовлетворённости сотрудника и увольнение сотрудника из компании.

- Подготовили данных: использовали пайплайн ColumnTransformer два кодировку OneHotEncoder и OrdinalEncoder, масштабировали с StandardScaler и MinMaxScaler.

- Для поиска лучшего моделя для первого задания  использовали пайплан с гиперпараметрами модели RandomForestRegressor(), DecisionTreeRegressor(), LinearRegression() и  CatBoostRegressor() и поиска лучшего параметра RandomizedSearchCV. Для этого задания лучший модель  CatBoostRegressor с параметрамы {'loss_function': 'RMSE', 'random_state': 42, 'max_depth': 9, 'iterations': 302}  метрика на тесте smape=10.6.

- Для поиска лучшего моделя для второго  задания  использовали пайплан с гиперпараметрами модели RandomForestClassifier(), DecisionTreeClassifier(), LogisticRegression() и  CatBoostClassifier() и поиска лучшего параметра RandomizedSearchCV. Для этого задания лучший модель  CatBoostClassifier с параметрамы {'random_state': 42, 'max_depth': 2, 'iterations': 398} метрика на тесте roc_auc_score=0.93.

- Использование таких моделей позволит бизнесу не только прогнозировать уровень удовлетворенности сотрудников и вероятность их увольнения, но и активно работать над улучшением рабочей среды и удержанием ключевых сотрудников. 

Рекомендую на основе анализа портрета и модели:
  - Улучшение адаптации новых сотрудников.
  - Пересмотр структуры зарплат.
  - Поддержка и развитие джуниоров.
  - Улучшение условий в отделах Sales и Technology.
  - Программы поощрения и повышения.
  - Увеличение рабочей нагрузки и интересных задач.